{"version":3,"file":"wtf-plugin-api.js","sources":["../src/_fns.js","../src/getRedirects.js","../src/getIncoming.js","../src/getPageViews.js","../src/getTransclusions.js","../src/getCategory.js","../src/getRandom.js","../src/getRandomCategory.js","../node_modules/slow/builds/slow.mjs","../src/fetchList.js","../src/index.js"],"sourcesContent":["exports.normalize = function (title = '') {\n  title = title.replace(/ /g, '_')\n  title = title.trim()\n  title = encodeURIComponent(title)\n  return title\n}\n\nexports.defaults = {\n  lang: 'en',\n  path: 'w/api.php'\n}\n\nexports.toUrlParams = function (obj) {\n  let arr = Object.entries(obj).map(([key, value]) => {\n    return `${encodeURIComponent(key)}=${encodeURIComponent(value)}`\n  })\n  return arr.join('&')\n}\n\nexports.fetchOne = function (url, http, prop) {\n  return http(url).then((res) => {\n    let pages = Object.keys(res.query.pages || {})\n    if (pages.length === 0) {\n      return { pages: [], cursor: null }\n    }\n    return {\n      pages: res.query.pages[pages[0]][prop] || [],\n      cursor: res.continue\n    }\n  })\n}\n","const { normalize, defaults, toUrlParams, fetchOne } = require('./_fns')\n\nconst params = {\n  action: 'query',\n  rdnamespace: 0,\n  prop: 'redirects',\n  rdlimit: 500,\n  format: 'json',\n  origin: '*',\n  redirects: true\n}\n\nconst makeUrl = function (title, options, append) {\n  let url = `https://${options.lang}.wikipedia.org/${options.path}?`\n  if (options.domain) {\n    url = `https://${options.domain}/${options.path}?`\n  }\n  url += toUrlParams(params)\n  url += `&titles=${normalize(title)}`\n  if (append) {\n    url += append\n  }\n  return url\n}\n\nconst getRedirects = async function (title, http) {\n  let list = []\n  let getMore = true\n  let append = ''\n  while (getMore) {\n    let url = makeUrl(title, defaults, append)\n    let { pages, cursor } = await fetchOne(url, http, 'redirects')\n    list = list.concat(pages)\n    if (cursor && cursor.rdcontinue) {\n      append = '&rdcontinue=' + cursor.lhcontinue\n    } else {\n      getMore = false\n    }\n  }\n  return list\n}\nmodule.exports = getRedirects\n","const { normalize, defaults, toUrlParams, fetchOne } = require('./_fns')\n\nconst params = {\n  action: 'query',\n  lhnamespace: 0,\n  prop: 'linkshere',\n  lhshow: '!redirect',\n  lhlimit: 500,\n  format: 'json',\n  origin: '*',\n  redirects: true\n}\n\nconst makeUrl = function (title, options, append) {\n  let url = `https://${options.lang}.wikipedia.org/${options.path}?`\n  if (options.domain) {\n    url = `https://${options.domain}/${options.path}?`\n  }\n  url += toUrlParams(params)\n  url += `&titles=${normalize(title)}`\n  if (append) {\n    url += append\n  }\n  return url\n}\n\nconst getIncoming = async function (title, http) {\n  let list = []\n  let getMore = true\n  let append = ''\n  while (getMore) {\n    let url = makeUrl(title, defaults, append)\n    let { pages, cursor } = await fetchOne(url, http, 'linkshere')\n    list = list.concat(pages)\n    if (cursor && cursor.lhcontinue) {\n      append = '&lhcontinue=' + cursor.lhcontinue\n    } else {\n      getMore = false\n    }\n  }\n  return list\n}\nmodule.exports = getIncoming\n","const { normalize, defaults, toUrlParams } = require('./_fns')\n\nconst params = {\n  action: 'query',\n  prop: 'pageviews',\n  format: 'json',\n  origin: '*',\n  redirects: true\n}\n\nconst makeUrl = function (title, options, append) {\n  let url = `https://${options.lang}.wikipedia.org/${options.path}?`\n  if (options.domain) {\n    url = `https://${options.domain}/${options.path}?`\n  }\n  url += toUrlParams(params)\n  url += `&titles=${normalize(title)}`\n  if (append) {\n    url += append\n  }\n  return url\n}\n\nconst getPageViews = function (doc, http) {\n  let url = makeUrl(doc.title(), defaults)\n  return http(url).then((res) => {\n    let pages = Object.keys(res.query.pages || {})\n    if (pages.length === 0) {\n      return []\n    }\n    return res.query.pages[pages[0]].pageviews || []\n  })\n}\nmodule.exports = getPageViews\n","const { normalize, defaults, toUrlParams, fetchOne } = require('./_fns')\n\nconst params = {\n  action: 'query',\n  tinamespace: 0,\n  prop: 'transcludedin',\n  tilimit: 500,\n  format: 'json',\n  origin: '*',\n  redirects: true\n}\n\nconst makeUrl = function (title, options, append) {\n  let url = `https://${options.lang}.wikipedia.org/${options.path}?`\n  if (options.domain) {\n    url = `https://${options.domain}/${options.path}?`\n  }\n  url += toUrlParams(params)\n  url += `&titles=${normalize(title)}`\n  // support custom cursor params\n  if (append) {\n    url += append\n  }\n  return url\n}\n\n// fetch all the pages that use a specific template\nconst getTransclusions = async function (template, _options, http) {\n  let list = []\n  let getMore = true\n  let append = ''\n  while (getMore) {\n    let url = makeUrl(template, defaults, append)\n    let { pages, cursor } = await fetchOne(url, http, 'transcludedin')\n    list = list.concat(pages)\n    if (cursor && cursor.ticontinue) {\n      append = '&ticontinue=' + cursor.ticontinue\n    } else {\n      getMore = false\n    }\n  }\n  return list\n}\nmodule.exports = getTransclusions\n","const { normalize, defaults, toUrlParams } = require('./_fns')\n\nconst params = {\n  action: 'query',\n  list: 'categorymembers',\n  cmlimit: 500,\n  cmtype: 'page|subcat',\n  cmnamespace: 0,\n  format: 'json',\n  origin: '*',\n  redirects: true\n}\n\nconst fetchIt = function (url, http, prop) {\n  return http(url).then((res) => {\n    let pages = Object.keys(res.query[prop] || {})\n    if (pages.length === 0) {\n      return { pages: [], cursor: null }\n    }\n    let arr = pages.map((k) => res.query[prop][k])\n    return {\n      pages: arr,\n      cursor: res.continue\n    }\n  })\n}\n\nconst makeUrl = function (title, options, append) {\n  let url = `https://${options.lang}.wikipedia.org/${options.path}?`\n  if (options.domain) {\n    url = `https://${options.domain}/${options.path}?`\n  }\n  url += toUrlParams(params)\n  if (/^Category/i.test(title) === false) {\n    title = 'Category:' + title\n  }\n  url += `&cmtitle=${normalize(title)}`\n  if (append) {\n    url += append\n  }\n  return url\n}\n\nconst getCategory = async function (title, options, http) {\n  let list = []\n  let getMore = true\n  let append = ''\n  while (getMore) {\n    let url = makeUrl(title, defaults, append)\n    let { pages, cursor } = await fetchIt(url, http, 'categorymembers')\n    list = list.concat(pages)\n    if (cursor && cursor.cmcontinue) {\n      append = '&cmcontinue=' + cursor.lhcontinue\n    } else {\n      getMore = false\n    }\n  }\n  return list\n}\nmodule.exports = getCategory\n","const { defaults, toUrlParams } = require('./_fns')\n\nconst params = {\n  action: 'query',\n  generator: 'random',\n  grnnamespace: '0',\n  prop: 'pageprops',\n  grnlimit: '1',\n  rvslots: 'main',\n  format: 'json',\n  origin: '*',\n  redirects: 'true'\n}\n\nconst fetchIt = function (url, http) {\n  return http(url).then((res) => {\n    let pages = Object.keys(res.query.pages || {})\n    if (pages.length === 0) {\n      return { pages: [], cursor: null }\n    }\n    return res.query.pages[pages[0]]\n  })\n}\n\nconst makeUrl = function (options) {\n  let url = `https://${options.lang}.wikipedia.org/${options.path}?`\n  if (options.domain) {\n    url = `https://${options.domain}/${options.path}?`\n  }\n  url += toUrlParams(params)\n  return url\n}\n\nconst getRandom = async function (_options, http) {\n  let url = makeUrl(defaults)\n  let page = await fetchIt(url, http)\n  return page\n}\nmodule.exports = getRandom\n","const { defaults, toUrlParams } = require('./_fns')\n\nconst params = {\n  format: 'json',\n  action: 'query',\n  generator: 'random',\n  grnnamespace: 14,\n  prop: 'revisions',\n  grnlimit: 1,\n  origin: '*'\n}\n\nconst randomCategory = function (options = {}, http) {\n  options = Object.assign({}, defaults, options)\n  let url = `https://${options.lang}.wikipedia.org/${options.path}?`\n  if (options.domain) {\n    url = `https://${options.domain}/${options.path}?`\n  }\n  url += toUrlParams(params)\n  return http(url)\n    .then((res) => {\n      try {\n        let o = res.query.pages\n        let key = Object.keys(o)[0]\n        return o[key].title\n      } catch (e) {\n        throw e\n      }\n    })\n    .catch((e) => {\n      console.error(e)\n      return null\n    })\n}\nmodule.exports = randomCategory\n","/* slow 1.1.0 MIT */\n//only do foo promises at a time.\nvar rateLimit = function rateLimit(arr, fn) {\n  var limit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 5;\n  return new Promise(function (resolve, reject) {\n    //some validation\n    if (!arr || !fn) {\n      reject('Error: missing required parameters to rate-limit function');\n      return;\n    }\n\n    if (arr.length === 0) {\n      resolve([]);\n      return;\n    }\n\n    var results = [];\n    var n = limit - 1;\n    var pending = 0; //simple recursion, but with then/finally\n\n    var go = function go(i) {\n      pending += 1;\n      var p = fn(arr[i]);\n\n      if (!p.then) {\n        reject('Error: function must return a promise');\n        return;\n      }\n\n      p.then(function (r) {\n        results[i] = r;\n      });\n      p[\"catch\"](function (e) {\n        console.error(e);\n        results[i] = null;\n      });\n      p[\"finally\"](function () {\n        pending -= 1;\n        n += 1; //should we keep going?\n\n        if (arr.length >= n + 1) {\n          go(n);\n        } else if (pending <= 0) {\n          //no more to start - are we the last to finish?\n          resolve(results);\n        }\n      });\n    }; //fire-off first-n items\n\n\n    var init = arr.length < limit ? arr.length : limit;\n\n    for (var i = 0; i < init; i += 1) {\n      go(i);\n    }\n  });\n};\n\nvar rateLimit_1 = rateLimit;\n\nvar methods = {\n  one: function one(arr, fn) {\n    return rateLimit_1(arr, fn, 1);\n  },\n  two: function two(arr, fn) {\n    return rateLimit_1(arr, fn, 2);\n  },\n  three: function three(arr, fn) {\n    return rateLimit_1(arr, fn, 3);\n  },\n  four: function four(arr, fn) {\n    return rateLimit_1(arr, fn, 4);\n  },\n  five: function five(arr, fn) {\n    return rateLimit_1(arr, fn, 5);\n  },\n  ten: function ten(arr, fn) {\n    return rateLimit_1(arr, fn, 10);\n  },\n  fifteen: function fifteen(arr, fn) {\n    return rateLimit_1(arr, fn, 15);\n  }\n};\nmethods.serial = methods.one;\nmethods.linear = methods.one;\nmethods.crawl = methods.three;\nmethods.walk = methods.five;\nmethods.run = methods.ten;\nmethods.sprint = methods.fifteen;\nvar src = methods;\n\nexport default src;\n","const slow = require('slow')\nconst isObject = function (obj) {\n  return obj && Object.prototype.toString.call(obj) === '[object Object]'\n}\n\nconst chunkBy = function (arr, chunkSize = 5) {\n  let groups = []\n  for (let i = 0; i < arr.length; i += chunkSize) {\n    groups.push(arr.slice(i, i + chunkSize))\n  }\n  return groups\n}\n\nconst fetchList = function (pages, options, wtf) {\n  // support a list of strings, or objects\n  if (pages[0] && isObject(pages[0])) {\n    pages = pages.map((o) => o.title)\n  }\n  // fetch in groups of 5\n  let groups = chunkBy(pages)\n\n  const doit = function (group) {\n    return wtf.fetch(group, options) //returns a promise\n  }\n  //only allow three requests at a time\n  return slow.three(groups, doit).then((res) => {\n    // flatten into one list\n    return res.reduce((arr, a) => {\n      arr = arr.concat(a)\n      return arr\n    })\n  })\n}\nmodule.exports = fetchList\n","const getRedirects = require('./getRedirects')\nconst getIncoming = require('./getIncoming')\nconst getPageViews = require('./getPageViews')\nconst getTransclusions = require('./getTransclusions')\nconst getCategory = require('./getCategory')\nconst getRandomPage = require('./getRandom')\nconst getRandomCategory = require('./getRandomCategory')\nconst fetchList = require('./fetchList')\n\nconst addMethod = function (models) {\n  // doc methods\n  models.Doc.prototype.getRedirects = function () {\n    return getRedirects(this.title(), models.http)\n  }\n  models.Doc.prototype.getIncoming = function () {\n    return getIncoming(this.title(), models.http)\n  }\n  models.Doc.prototype.getPageViews = function () {\n    return getPageViews(this, models.http)\n  }\n\n  // constructor methods\n  models.wtf.getRandomPage = function (options) {\n    return getRandomPage(options, models.http)\n  }\n  models.wtf.getRandomCategory = function (options) {\n    return getRandomCategory(options, models.http)\n  }\n  models.wtf.getTemplatePages = function (template, options) {\n    return getTransclusions(template, options, models.http)\n  }\n  models.wtf.getCategoryPages = function (category, options) {\n    return getCategory(category, options, models.http)\n  }\n  models.wtf.fetchList = function (list, options) {\n    return fetchList(list, options, models.wtf)\n  }\n  models.wtf.getIncoming = function (title) {\n    return getIncoming(title, models.http)\n  }\n  models.wtf.getRedirects = function (title) {\n    return getRedirects(title, models.http)\n  }\n}\nmodule.exports = addMethod\n"],"names":["title","replace","trim","encodeURIComponent","lang","path","obj","arr","Object","entries","map","key","value","join","url","http","prop","then","res","pages","keys","query","length","cursor","continue","normalize","defaults","toUrlParams","fetchOne","require$$0","params","action","rdnamespace","rdlimit","format","origin","redirects","makeUrl","options","append","domain","getRedirects","list","getMore","concat","rdcontinue","lhcontinue","lhnamespace","lhshow","lhlimit","getIncoming","getPageViews","doc","pageviews","tinamespace","tilimit","getTransclusions","template","_options","ticontinue","cmlimit","cmtype","cmnamespace","fetchIt","k","test","getCategory","cmcontinue","generator","grnnamespace","grnlimit","rvslots","getRandom","page","randomCategory","assign","o","e","catch","console","error","rateLimit","fn","limit","arguments","undefined","Promise","resolve","reject","results","n","pending","go","i","p","r","init","rateLimit_1","methods","one","two","three","four","five","ten","fifteen","serial","linear","crawl","walk","run","sprint","src","isObject","prototype","toString","call","chunkBy","chunkSize","groups","push","slice","fetchList","wtf","doit","group","fetch","slow","reduce","a","addMethod","models","Doc","getRandomPage","getRandomCategory","getTemplatePages","getCategoryPages","category"],"mappings":"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"}